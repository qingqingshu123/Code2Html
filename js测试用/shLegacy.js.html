<!DOCTYPE HTML>
<html>
<head>
<title>shLegacy.js</title>
<style type = "text/css">
.orderList {
font-family: Consolas, "Courier New", Courier, mono, serif;
font-size: 12px;
background-color: #E7E5DC;
width: 96%;
overflow: auto;
margin: 18px 0 18px 0 !important;
padding-left: 45px;
padding-top: 1px;}
li { list-style: decimal-leading-zero;
list-style-position: outside !important;
border-left: 3px solid #6CE26C;
background-color: #F8F8F8;
color: #5C5C5C;
padding: 0 3px 0 10px !important;
margin: 0 !important;
line-height: 14px; }
span {
color: #000000;}
.keyword {color: #006699; font-weight: bold;}
.comment {color: #008200;}
.literal {color: #0000ff;}
</style>
</head>
<body>
<div class="sourceCode">
<div>
<div class="tools"></div>
</div>
<pre>
<ol class="orderList"><li><span><span class = "comment">/***/</span></span></li><li><span><span class = "comment"> * SyntaxHighlighter*/</span></span></li><li><span><span class = "comment"> * http:LINECOMMENTalexgorbatchev.com/SyntaxHighlighter*/</span></span></li><li><span><span class = "comment"> **/</span></span></li><li><span><span class = "comment"> * SyntaxHighlighter is donationware. If you are using it, please donate.*/</span></span></li><li><span><span class = "comment"> * http:LINECOMMENTalexgorbatchev.com/SyntaxHighlighter/donate.html*/</span></span></li><li><span><span class = "comment"> **/</span></span></li><li><span><span class = "comment"> * @version*/</span></span></li><li><span><span class = "comment"> * 3.0.83 (July 02 2010)*/</span></span></li><li><span><span class = "comment"> * */</span></span></li><li><span><span class = "comment"> * @copyright*/</span></span></li><li><span><span class = "comment"> * Copyright (C) 2004-2010 Alex Gorbatchev.*/</span></span></li><li><span><span class = "comment"> **/</span></span></li><li><span><span class = "comment"> * @license*/</span></span></li><li><span><span class = "comment"> * Dual licensed under the MIT and GPL licenses.*/</span></span></li><li><span><span class = "comment"> */</span></span></li><li><span></span></li><li><span><span class = "keyword">var</span> dp = {</span></li><li><span>	SyntaxHighlighter : {}</span></li><li><span>};</span></li><li><span></span></li><li><span>dp.SyntaxHighlighter = {</span></li><li><span>	parseParams: <span class = "keyword">function</span>(</span></li><li><span>						input,</span></li><li><span>						showGutter, </span></li><li><span>						showControls, </span></li><li><span>						collapseAll, </span></li><li><span>						firstLine, </span></li><li><span>						showColumns</span></li><li><span>						)</span></li><li><span>	{</span></li><li><span>		<span class = "keyword">function</span> getValue(list, name)</span></li><li><span>		{</span></li><li><span>			<span class = "keyword">var</span> regex = <span class = "keyword">new</span> XRegExp('^' + name + '\\[(?&lt;value&gt;\\w+)\\]$', <span class = "literal">'gi'</span>),</span></li><li><span>				match = null</span></li><li><span>				;</span></li><li><span>			</span></li><li><span>			<span class = "keyword">for</span> (<span class = "keyword">var</span> i = 0; i &lt; list.length; i++) </span></li><li><span>				<span class = "keyword">if</span> ((match = regex.exec(list[i])) != null)</span></li><li><span>					<span class = "keyword">return</span> match.value;</span></li><li><span>			</span></li><li><span>			<span class = "keyword">return</span> null;</span></li><li><span>		};</span></li><li><span>		</span></li><li><span>		<span class = "keyword">function</span> defaultValue(value, def)</span></li><li><span>		{</span></li><li><span>			<span class = "keyword">return</span> value != null ? value : def;</span></li><li><span>		};</span></li><li><span>		</span></li><li><span>		<span class = "keyword">function</span> asString(value)</span></li><li><span>		{</span></li><li><span>			<span class = "keyword">return</span> value != null ? value.toString() : null;</span></li><li><span>		};</span></li><li><span></span></li><li><span>		<span class = "keyword">var</span> parts = input.split(':'),</span></li><li><span>			brushName = parts[<span class = "literal">0</span>],</span></li><li><span>			options = {},</span></li><li><span>			straight = { <span class = "literal">'true'</span> : true }</span></li><li><span>			reverse = { <span class = "literal">'true'</span> : false },</span></li><li><span>			result = null,</span></li><li><span>			defaults = SyntaxHighlighter.defaults</span></li><li><span>			;</span></li><li><span>		</span></li><li><span>		<span class = "keyword">for</span> (<span class = "keyword">var</span> i <span class = "keyword">in</span> parts)</span></li><li><span>			options[parts[i]] = 'true';</span></li><li><span></span></li><li><span>		showGutter = asString(defaultValue(showGutter, defaults.gutter));</span></li><li><span>		showControls = asString(defaultValue(showControls, defaults.toolbar));</span></li><li><span>		collapseAll = asString(defaultValue(collapseAll, defaults.collapse)); </span></li><li><span>		showColumns = asString(defaultValue(showColumns, defaults.ruler));</span></li><li><span>		firstLine = asString(defaultValue(firstLine, defaults['first-line'])); </span></li><li><span></span></li><li><span>		<span class = "keyword">return</span> {</span></li><li><span>			brush			: brushName,</span></li><li><span>			gutter			: defaultValue(reverse[options.nogutter], showGutter),</span></li><li><span>			toolbar			: defaultValue(reverse[options.nocontrols], showControls),</span></li><li><span>			collapse		: defaultValue(straight[options.collapse], collapseAll),</span></li><li><span>			<span class = "comment">//  ruler			: defaultValue(straight[options.showcolumns], showColumns),</span></span></li><li><span>			'first-line'	: defaultValue(getValue(parts, <span class = "literal">'firstline'</span>), firstLine)</span></li><li><span>		};</span></li><li><span>	},</span></li><li><span>	</span></li><li><span>	HighlightAll: <span class = "keyword">function</span>(</span></li><li><span>						name, </span></li><li><span>						showGutter <span class = "comment">/* optional */</span></span></li><li><span>, </span></li><li><span>						showControls <span class = "comment">/* optional */</span></span></li><li><span>, </span></li><li><span>						collapseAll <span class = "comment">/* optional */</span></span></li><li><span>, </span></li><li><span>						firstLine <span class = "comment">/* optional */</span></span></li><li><span>, </span></li><li><span>						showColumns <span class = "comment">/* optional */</span></span></li><li><span></span></li><li><span>						)</span></li><li><span>	{</span></li><li><span>		<span class = "keyword">function</span> findValue()</span></li><li><span>		{</span></li><li><span>			<span class = "keyword">var</span> a = arguments;</span></li><li><span>			</span></li><li><span>			<span class = "keyword">for</span> (<span class = "keyword">var</span> i = 0; i &lt; a.length; i++) </span></li><li><span>			{</span></li><li><span>				<span class = "keyword">if</span> (a[i] === null) </span></li><li><span>					continue;</span></li><li><span>				</span></li><li><span>				<span class = "keyword">if</span> (<span class = "keyword">typeof</span>(a[i]) == <span class = "literal">'string'</span> && a[i] != <span class = "literal">''</span>) </span></li><li><span>					<span class = "keyword">return</span> a[i] + '';</span></li><li><span>				</span></li><li><span>				<span class = "keyword">if</span> (<span class = "keyword">typeof</span>(a[i]) == <span class = "literal">'object'</span> && a[i].value != <span class = "literal">''</span>) </span></li><li><span>					<span class = "keyword">return</span> a[i].value + '';</span></li><li><span>			}</span></li><li><span>			</span></li><li><span>			<span class = "keyword">return</span> null;</span></li><li><span>		};</span></li><li><span></span></li><li><span>		<span class = "keyword">function</span> findTagsByName(list, name, tagName)</span></li><li><span>		{</span></li><li><span>			<span class = "keyword">var</span> tags = document.getElementsByTagName(tagName);</span></li><li><span>			</span></li><li><span>			<span class = "keyword">for</span> (<span class = "keyword">var</span> i = 0; i &lt; tags.length; i++) </span></li><li><span>				<span class = "keyword">if</span> (tags[i].getAttribute(<span class = "literal">'name'</span>) == name) </span></li><li><span>					list.push(tags[i]);</span></li><li><span>		}</span></li><li><span>		</span></li><li><span>		<span class = "keyword">var</span> elements = [],</span></li><li><span>			highlighter = null,</span></li><li><span>			registered = {},</span></li><li><span>			propertyName = <span class = "literal">'innerHTML'</span></span></li><li><span>			;</span></li><li><span>		</span></li><li><span>		<span class = "comment">//  for some reason IE doesn't find &lt;pre/&gt; by name, however it does see them just fine by tag name... </span></span></li><li><span>		findTagsByName(elements, name, <span class = "literal">'pre'</span>);</span></li><li><span>		findTagsByName(elements, name, <span class = "literal">'textarea'</span>);</span></li><li><span></span></li><li><span>		<span class = "keyword">if</span> (elements.length === <span class = "literal">0</span>)</span></li><li><span>			return;</span></li><li><span>		</span></li><li><span>		<span class = "keyword">for</span> (<span class = "keyword">var</span> i = 0; i &lt; elements.length; i++)</span></li><li><span>		{</span></li><li><span>			<span class = "keyword">var</span> element = elements[i],</span></li><li><span>				params = findValue(</span></li><li><span>					element.attributes[<span class = "literal">'class'</span>], element.className, </span></li><li><span>					element.attributes[<span class = "literal">'language'</span>], element.language</span></li><li><span>					),</span></li><li><span>				language = <span class = "literal">''</span></span></li><li><span>				;</span></li><li><span>			</span></li><li><span>			<span class = "keyword">if</span> (params === null) </span></li><li><span>				continue;</span></li><li><span></span></li><li><span>			params = dp.SyntaxHighlighter.parseParams(</span></li><li><span>				params,</span></li><li><span>				showGutter, </span></li><li><span>				showControls, </span></li><li><span>				collapseAll, </span></li><li><span>				firstLine, </span></li><li><span>				showColumns</span></li><li><span>				);</span></li><li><span></span></li><li><span>			SyntaxHighlighter.highlight(params, element);</span></li><li><span>		}</span></li><li><span>	}</span></li><li><span>};</span></li></ol>
</pre>
</div>
<a href="#top">Top</a>
</body>
</html>
